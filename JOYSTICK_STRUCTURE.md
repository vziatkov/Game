# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–∂–æ–π—Å—Ç–∏–∫–∞

```
Game/
‚îú‚îÄ‚îÄ index.html                          [–ò–ó–ú–ï–ù–ï–ù] HTML —Å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ JOYSTICK_INTEGRATION.md             [–ù–û–í–´–ô] –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ QUICK_START.md                      [–ù–û–í–´–ô] –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –ø—Ä–∏–º–µ—Ä—ã
‚îú‚îÄ‚îÄ JOYSTICK_CHANGES.md                 [–ù–û–í–´–ô] –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ JOYSTICK_STRUCTURE.md               [–ù–û–í–´–ô] –≠—Ç–æ—Ç —Ñ–∞–π–ª (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
‚îÇ
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ main.ts                         [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
    ‚îú‚îÄ‚îÄ App.tsx                         [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
    ‚îÇ
    ‚îî‚îÄ‚îÄ game/
        ‚îú‚îÄ‚îÄ index.tsx                   [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
        ‚îÇ
        ‚îú‚îÄ‚îÄ react/
        ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx               [–ò–ó–ú–ï–ù–ï–ù] –î–æ–±–∞–≤–ª–µ–Ω Joystick –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
        ‚îÇ   ‚îÇ
        ‚îÇ   ‚îî‚îÄ‚îÄ components/
        ‚îÇ       ‚îú‚îÄ‚îÄ Joystick.tsx        [–ù–û–í–´–ô] ‚≠ê –ë–∞–∑–æ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫
        ‚îÇ       ‚îú‚îÄ‚îÄ Joystick.css        [–ù–û–í–´–ô] –°—Ç–∏–ª–∏ –±–∞–∑–æ–≤–æ–≥–æ –¥–∂–æ–π—Å—Ç–∏–∫–∞
        ‚îÇ       ‚îú‚îÄ‚îÄ JoystickAdvanced.tsx [–ù–û–í–´–ô] ‚≠ê –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫
        ‚îÇ       ‚îú‚îÄ‚îÄ JoystickAdvanced.css [–ù–û–í–´–ô] –°—Ç–∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –¥–∂–æ–π—Å—Ç–∏–∫–∞
        ‚îÇ       ‚îî‚îÄ‚îÄ README.md           [–ù–û–í–´–ô] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        ‚îÇ
        ‚îú‚îÄ‚îÄ pixi/
        ‚îÇ   ‚îú‚îÄ‚îÄ index.ts                [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
        ‚îÇ   ‚îÇ
        ‚îÇ   ‚îî‚îÄ‚îÄ scenes/
        ‚îÇ       ‚îú‚îÄ‚îÄ BaseGameSprite.ts   [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
        ‚îÇ       ‚îú‚îÄ‚îÄ GameScene.ts        [–ù–û–í–´–ô] ‚≠ê –°—Ü–µ–Ω–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –¥–∂–æ–π—Å—Ç–∏–∫–∞
        ‚îÇ       ‚îî‚îÄ‚îÄ AIPlayer.ts         [–ù–û–í–´–ô] AI –∏–≥—Ä–æ–∫
        ‚îÇ
        ‚îî‚îÄ‚îÄ store/
            ‚îú‚îÄ‚îÄ index.ts                [–ò–ó–ú–ï–ù–ï–ù] –î–æ–±–∞–≤–ª–µ–Ω joystickStore
            ‚îú‚îÄ‚îÄ joystick.ts             [–ù–û–í–´–ô] ‚≠ê MobX store –¥–ª—è –¥–∂–æ–π—Å—Ç–∏–∫–∞
            ‚îú‚îÄ‚îÄ ai.ts                   [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
            ‚îú‚îÄ‚îÄ game.ts                 [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
            ‚îî‚îÄ‚îÄ preloaderStore.ts       [–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô]
```

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### ‚≠ê Joystick.tsx
**–ü—É—Ç—å**: `src/game/react/components/Joystick.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–∂–æ–π—Å—Ç–∏–∫–∞

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–≤–æ–¥–∞ (Pointer/Touch/Mouse)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å requestAnimationFrame
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –æ—Ç -1 –¥–æ 1
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Å–≤–µ—á–µ–Ω–∏—è

**–≠–∫—Å–ø–æ—Ä—Ç**:
```typescript
export const Joystick: React.FC<JoystickProps>
```

**Props**:
- `onVectorChange?: (vector: { x, y, force }) => void`
- `className?: string`

---

### ‚≠ê JoystickAdvanced.tsx
**–ü—É—Ç—å**: `src/game/react/components/JoystickAdvanced.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- 4 –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞ (—á–∞—Å—Ç–∏—Ü—ã, –≤–æ–ª–Ω—ã, —Å–µ—Ç–∫–∞, –Ω–µ–æ–Ω)
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (Web Audio API)
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∑–≤—É–∫–∞

**Props**:
- `onVectorChange?: (vector: { x, y, force }) => void`
- `className?: string`
- `enableEffects?: boolean`
- `enableSound?: boolean`

---

### ‚≠ê joystick.ts
**–ü—É—Ç—å**: `src/game/store/joystick.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**: MobX store –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∂–æ–π—Å—Ç–∏–∫–∞

**State**:
```typescript
{
  vector: { x: number, y: number, force: number }
  isActive: boolean
}
```

**–ú–µ—Ç–æ–¥—ã**:
- `updateVector(vector)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞
- `reset()` - —Å–±—Ä–æ—Å –≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `getVector()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞
- `getAngle()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≥–ª–∞ –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö
- `getMagnitude()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–∞–≥–Ω–∏—Ç—É–¥—ã (0-1)

**–≠–∫—Å–ø–æ—Ä—Ç**:
```typescript
export const joystickStore: JoystickStore
export interface JoystickVector { x, y, force }
```

---

### ‚≠ê GameScene.ts
**–ü—É—Ç—å**: `src/game/pixi/scenes/GameScene.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ**: PixiJS —Å—Ü–µ–Ω–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –¥–∂–æ–π—Å—Ç–∏–∫–∞

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AIPlayer —Å –ø–æ–º–æ—â—å—é –¥–∂–æ–π—Å—Ç–∏–∫–∞
- MobX reaction –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**:
```typescript
private setupJoystickControls() {
  this.joystickDisposer = reaction(
    () => joystickStore.getVector(),
    (vector) => this.updatePlayerMovement(vector)
  );
}
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    ‚Üì
–ö–∞—Å–∞–Ω–∏–µ/–ö–ª–∏–∫ –Ω–∞ –¥–∂–æ–π—Å—Ç–∏–∫–µ
    ‚Üì
Joystick.tsx (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π)
    ‚Üì
onVectorChange callback
    ‚Üì
joystickStore.updateVector()
    ‚Üì
MobX —Ä–µ–∞–∫—Ü–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚Üì
GameScene.updatePlayerMovement()
    ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ AIPlayer
    ‚Üì
PixiJS —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

```
Joystick.tsx
    ‚îî‚îÄ> joystickStore (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)

JoystickAdvanced.tsx
    ‚îî‚îÄ> joystickStore (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

react/index.tsx
    ‚îú‚îÄ> Joystick (–∏–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
    ‚îî‚îÄ> joystickStore (–¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

GameScene.ts
    ‚îú‚îÄ> joystickStore (—á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
    ‚îú‚îÄ> AIPlayer (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
    ‚îî‚îÄ> MobX reaction (—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

store/index.ts
    ‚îî‚îÄ> joystickStore (—ç–∫—Å–ø–æ—Ä—Ç)
```

## üéØ –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞

### –î–ª—è React —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
**–§–∞–π–ª**: `src/game/react/index.tsx`
```typescript
import { Joystick } from './components/Joystick';
```

### –î–ª—è –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:
**–§–∞–π–ª**: `src/game/pixi/scenes/GameScene.ts`
```typescript
import { joystickStore } from '../../store/joystick';
```

### –î–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ store:
**–§–∞–π–ª**: –õ—é–±–æ–π
```typescript
import { joystickStore } from './game/store/joystick';
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –°—Ç–∏–ª–∏
- `Joystick.css` - —Å—Ç–∏–ª–∏ –±–∞–∑–æ–≤–æ–≥–æ –¥–∂–æ–π—Å—Ç–∏–∫–∞
- `JoystickAdvanced.css` - —Å—Ç–∏–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- `index.html` - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### TypeScript
- `joystick.ts` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã
- `JoystickVector` - —Ç–∏–ø –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∞

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö:
1. **QUICK_START.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
2. **components/README.md** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö:
1. **JOYSTICK_INTEGRATION.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
2. **JOYSTICK_CHANGES.md** - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **JOYSTICK_STRUCTURE.md** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- Inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤ index.html):
```css
--light-x: 50%     /* –ü–æ–∑–∏—Ü–∏—è —Å–≤–µ—á–µ–Ω–∏—è –ø–æ X */
--light-y: 50%     /* –ü–æ–∑–∏—Ü–∏—è —Å–≤–µ—á–µ–Ω–∏—è –ø–æ Y */
--light-size: 40%  /* –†–∞–∑–º–µ—Ä —Å–≤–µ—á–µ–Ω–∏—è */
```

### CSS –ö–ª–∞—Å—Å—ã (–≤ Joystick.css):
- `.joystick-wrapper` - –æ–±–µ—Ä—Ç–∫–∞ –¥–∂–æ–π—Å—Ç–∏–∫–∞
- `.joystick-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ñ–æ–Ω–æ–º
- `.joystick` - –∫—Ä—É–≥ –¥–∂–æ–π—Å—Ç–∏–∫–∞
- `.knob` - —Ä—É—á–∫–∞ –¥–∂–æ–π—Å—Ç–∏–∫–∞
- `.values` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–Ω–∞—á–µ–Ω–∏–π
- `.value` - –æ—Ç–¥–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `.touch-feedback` - –∞–Ω–∏–º–∞—Ü–∏—è –∫–∞—Å–∞–Ω–∏—è

### CSS –≠—Ñ—Ñ–µ–∫—Ç—ã (–≤ JoystickAdvanced.css):
- `.particles` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∞—Å—Ç–∏—Ü
- `.particle` - –æ—Ç–¥–µ–ª—å–Ω–∞—è —á–∞—Å—Ç–∏—Ü–∞
- `.waves` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ–ª–Ω
- `.wave` - –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–æ–ª–Ω–∞
- `.grid-overlay` - —Å–µ—Ç–∫–∞
- `.neon-glow` - –Ω–µ–æ–Ω–æ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ
- `.effect-buttons` - –∫–Ω–æ–ø–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- `.effect-btn` - –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞

## üîç –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤

### –ü–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI**:
```bash
src/game/react/components/
```

**–õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã**:
```bash
src/game/pixi/scenes/
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**:
```bash
src/game/store/
```

**–°—Ç–∏–ª–∏**:
```bash
src/game/react/components/*.css
index.html
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
```bash
*.md (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
src/game/react/components/README.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ù–∞–π—Ç–∏ –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–∂–æ–π—Å—Ç–∏–∫–∞:
```bash
grep -r "joystick" src/
```

### –ù–∞–π—Ç–∏ –∏–º–ø–æ—Ä—Ç—ã –¥–∂–æ–π—Å—Ç–∏–∫–∞:
```bash
grep -r "import.*Joystick" src/
```

### –ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ store:
```bash
grep -r "joystickStore" src/
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä bundle:
```bash
npm run build
ls -lh dist/
```

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞**: 14 –æ–∫—Ç—è–±—Ä—è 2025  
**–§–∞–π–ª–æ–≤**: 11 –Ω–æ–≤—ã—Ö, 3 –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö

